<div class="main-content">

  <h1><%= @team.name %> 詳細</h1>
  <% if @team_member.present? %>
    <%= button_to 'チームから外れる', team_member_path(id: @team_member.id), method: :delete, class: 'btn sign-btn out' %>
  <% else %>
    <%= button_to 'チームに加わる', team_members_path(team_id: @team.id), method: :post, class: 'btn sign-btn in' %>
  <% end %>

  <table>
    <thead>
      <tr>
        <th><h3>メンバー</h3></th>
      </tr>
    </thead>
    <tbody>
        <% @team_members.each do |member| %>
          <tr>
            <td><%= member.name %></td>
            <td><%= link_to '詳細', user_path(member.id),method: :get, class: "btn mini-btn" %></td>
          </tr>
        <% end %>
    </tbody>
  </table>

  <table>
    <thead>
        <h3>チームのタスク一覧</h3>
      <tr>
        <th></th>
        <th>タイトル</th>
        <th>期日</th>
        <th colspan="3"></th>
      </tr>
    </thead>
    <tbody>
      <% @team_tasks.each do |task| %>
        <tr>
            <% if task.team_id == @team.id%>
              <% if task.completion_flag == true %>
                <td class="completion done" >完　了</td>
              <% else %>
                <td class="completion">未完了</td>
              <% end %>
              <td><%= task.title %></td>
              <td><%= l task.time_limit %></td>
              <td><%= button_to '詳細', task_path(id: task.id),method: :get, class: "btn mini-btn"  %></td>
            <% end %>
        </tr>
      <% end %>
    </tbody>
  </table>


  <br><br>
  <div class="btn-cover">
    <%= button_to 'チームの編集', edit_team_path(@team), {method: :get, class:"btn" } %>
    <%= button_to "戻る", {controller: "teams", action: "index"}, {method: :get, class:"btn" } %>
  </div>
</div>

